{"version":3,"sources":["meteor://ðŸ’»app/imports/collections/tasks.js","meteor://ðŸ’»app/server/tasks.js"],"names":[],"mappings":";;;;;;;;;;;;2BAAsB,cAAc;;qBAErB,KAAK,GAAG,IAAI,mBAAM,UAAU,CAAC,OAAO,CAAC;;;;;;;;;;;;;;4BCF7B,eAAe;;yCACpB,+BAA+B;;;;2BAC3B,cAAc;;AAEpC,qBAAO,OAAO,CAAC,OAAO,EAAE,SAAS,gBAAgB,GAAG;AAChD,WAAO,uCAAM,IAAI,CAAC;AACd,WAAG,EAAE,CAAC,EAAC,SAAS,EAAE,KAAK,EAAC,EAAE,EAAC,KAAK,EAAE,IAAI,CAAC,MAAM,EAAC,CAAC;KAClD,CAAC,CAAC;CACN,CAAC,CAAC;;;;AAIH,qBAAO,OAAO,CAAC;;AAEX,WAAO,mBAAC,IAAI,EAAE;AACV,YAAI,qBAAO,MAAM,EAAE,EAAE;AACjB,gBAAI,IAAI,GAAG;AACP,oBAAI,EAAE,IAAI;AACV,yBAAS,EAAE,IAAI,IAAI,EAAE;AACrB,uBAAO,EAAE,KAAK;AACd,qBAAK,EAAE,qBAAO,MAAM,EAAE;AACtB,wBAAQ,EAAE,qBAAO,IAAI,EAAE,CAAC,QAAQ;AAChC,yBAAS,EAAE,KAAK;aACnB,CAAC;AACF,mBAAO,CAAC,GAAG,CAAC,iBAAiB,EAAE,IAAI,CAAC,CAAC;AACrC,mDAAM,MAAM,CAAC,IAAI,CAAC,CAAC;SACtB,MAAM;AACH,kBAAM,IAAI,qBAAO,KAAK,CAAC,uBAAuB,CAAC,CAAC;SACnD;KACJ;AACD,cAAU,EAAE,oBAAS,MAAM,EAAE;AACzB,eAAO,CAAC,GAAG,CAAC,mBAAmB,EAAE,MAAM,CAAC,CAAC;AACzC,+CAAM,MAAM,CAAC,MAAM,CAAC,CAAC;KACxB;AACD,cAAU,EAAE,oBAAS,MAAM,EAAE,SAAS,EAAE;AACpC,gCAAM,SAAS,EAAE,OAAO,CAAC,CAAC;AAC1B,eAAO,CAAC,GAAG,CAAC,mCAAmC,EAAE,SAAS,CAAC,CAAC;AAC5D,+CAAM,MAAM,CAAE,MAAM,EAAE,EAAC,IAAI,EAAE,EAAC,OAAO,EAAE,CAAC,SAAS,EAAC,EAAC,CAAE,CAAC;KACzD;AACD,cAAU,EAAE,oBAAU,IAAI,EAAE;AACxB,gCAAM,IAAI,CAAC,SAAS,EAAE,OAAO,CAAC,CAAC;AAC/B,+CAAM,MAAM,CAAC,IAAI,CAAC,GAAG,EAAE,EAAC,IAAI,EAAE,EAAC,SAAS,EAAE,CAAC,IAAI,CAAC,SAAS,EAAC,EAAC,CAAC,CAAC;KAChE;CACJ,CAAC,CAAC,0G","file":"/app.js","sourcesContent":["import { Mongo } from 'meteor/mongo';\r\n\r\nexport default Tasks = new Mongo.Collection('tasks');\r\n\r\n","import { Meteor } from 'meteor/meteor';\r\nimport Tasks from '/imports/collections/tasks.js'\r\nimport { check } from 'meteor/check';\r\n\r\nMeteor.publish('tasks', function tasksPublication() {\r\n    return Tasks.find({\r\n        $or: [{isPrivate: false}, {owner: this.userId}]\r\n    });\r\n});\r\n\r\n// Meteor methods are sensible information. They shouln't be accesible to the client, only to the server.\r\n\r\nMeteor.methods({\r\n\r\n    addTask(text) {\r\n        if (Meteor.userId()) {\r\n            var task = {\r\n                text: text,\r\n                createdAt: new Date(),\r\n                checked: false,\r\n                owner: Meteor.userId(),\r\n                username: Meteor.user().username,\r\n                isPrivate: false\r\n            };\r\n            console.log('insertando task', task);\r\n            Tasks.insert(task);\r\n        } else {\r\n            throw new Meteor.Error('Usuario no autorizado');\r\n        }\r\n    },\r\n    removeTask: function(taskId) {\r\n        console.log('borrando tarea id', taskId);\r\n        Tasks.remove(taskId);\r\n    },\r\n    setChecked: function(taskId, isChecked) {\r\n        check(isChecked, Boolean);\r\n        console.log('modificando campo isChecked en bd', isChecked);\r\n        Tasks.update( taskId, {$set: {checked: !isChecked}} );\r\n    },\r\n    setPrivate: function (task) {\r\n        check(task.isPrivate, Boolean);\r\n        Tasks.update(task._id, {$set: {isPrivate: !task.isPrivate}});\r\n    }\r\n});\r\n\r\n\r\n\r\n\r\n"]}